<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>kronk</title>

<style>
#links-panel { display: none; }
.info-line span { cursor: pointer; }

/* ---------- BASE + PALETTE ---------- */
:root {
  --c-black:#1a1a1a; --c-white:#e1e1e1; --c-grey:#898989;
  --c-purple:#b462ff; --c-fuschia:#ff45b4; --c-blue:#18b6ff;
  --c-green:#1beb9e; --c-orange:#ff9528; --c-yellow:#dddd25;
  --line:2.5ch; --font:'IBM', monospace;
  --icon-w: 10vw;
}
html,body{ margin:0; background:var(--c-black); color:var(--c-white); height:100%; font-family:var(--font); line-height:var(--line);}
body { font-size:3.97vw; }
@media (min-width: 768px) { body { font-size:2vw; } }
@media (min-width: 1024px) { body { font-size:1.11111111vw; } }

/* ---------- HYDRA FULLSCREEN BACKGROUND ---------- */
#hydra-bg { position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:0; overflow:hidden; }
#hydra-canvas { width:100%; height:100%; display:block; background:black; pointer-events:none; }

/* ---------- OVERLAY PANELS ---------- */
#links-panel {
  position:fixed;
  top:50%;
  left:0;
  width:100vw;
  height:50vh;
  overflow-y:scroll;
  background:rgba(26,26,26,0.85);
  padding:var(--line);
  z-index:2;
  scrollbar-width:none;
}
#links-panel::-webkit-scrollbar{display:none;}

#info-panel {
  position:fixed; top:0; left:0; z-index:3;
  display:flex; flex-direction:column; align-items:flex-start;
  padding:var(--line) 0;
}

#info-panel2 {
  position:fixed; top:0; right:0; z-index:3;
  display:flex; flex-direction:column; align-items:flex-end;
  padding:var(--line) 0;
}

.info-line {
  background:rgba(26,26,26,0.75);
  padding:0.4ch 0.8ch;
  margin-bottom:0.6ch;
  display:inline-flex;
  align-items:center;
}

/* ---------- ICONS ---------- */
.icon {
  width: var(--icon-w);
  height: var(--icon-w);
  opacity: 0.85;
}
@media (min-width: 768px) { :root { --icon-w: 5vw; } }

/* ---------- MENU ---------- */
.menu-wrapper { position: relative; }

#menu-toggle {
  background:none;
  border:none;
  padding:0;
  cursor:pointer;
}

.menu-icon {
  width: 28px;
  height: 28px;
  fill: currentColor;
  color: #888;
}

#menu-panel {
  position:absolute;
  top:110%;
  right:0;
  display:flex;
  flex-direction:column;
  gap:0.4rem;
  opacity:0;
  pointer-events:none;
  transform:translateY(-6px);
  transition:opacity 0.2s ease, transform 0.2s ease;
}

.menu-wrapper.open #menu-panel {
  opacity:1;
  pointer-events:auto;
  transform:translateY(0);
}
</style>
</head>

<body>

<div id="hydra-bg"><canvas id="hydra-canvas"></canvas></div>
<script src="https://unpkg.com/hydra-synth"></script>

<script>
window.addEventListener('load', () => {
  const canvas = document.getElementById("hydra-canvas");
  const dpr = window.devicePixelRatio || 1;
  canvas.width = innerWidth * dpr;
  canvas.height = innerHeight * dpr;
  const hydra = new Hydra({ canvas, detectAudio:false, makeGlobal:true });
  osc(10,0.9,300).out();
});
</script>

<!-- LEFT INFO -->
<nav id="info-panel">
  <div class="info-line">
    <span id="sound-icon">ðŸ”Š</span>
  </div>
</nav>

<!-- RIGHT INFO (MENU LIVES HERE NOW) -->
<nav id="info-panel2">
  <div class="info-line">
    <div class="menu-wrapper">
      <button id="menu-toggle" aria-label="Open menu">
        <svg viewBox="0 0 122.88 103.17" class="menu-icon">
          <path d="M41.31,29.74h40.26v8.18H41.31z
                   M41.31,47.5h40.26v8.18H41.31z
                   M41.31,65.25h40.26v8.18H41.31z"/>
        </svg>
      </button>

      <nav id="menu-panel">
        <a href="/">Home / News</a>
        <a href="/listen">Listen / Discog</a>
        <a href="/about">About / Contact</a>
      </nav>
    </div>
  </div>
</nav>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const wrapper = document.querySelector('.menu-wrapper');
  const toggle = document.getElementById('menu-toggle');

  toggle.addEventListener('click', (e) => {
    e.stopPropagation();
    wrapper.classList.toggle('open');
  });

  document.addEventListener('click', (e) => {
    if (!wrapper.contains(e.target)) {
      wrapper.classList.remove('open');
    }
  });
});
</script>

</body>
</html>
